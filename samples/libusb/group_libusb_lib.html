

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Library initialization/deinitialization &mdash; LibUSB Documentation 1.0.21 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="enum libusb_log_level" href="enum_libusb_log_level.html" />
    <link rel="prev" title="enum libusb_hotplug_flag" href="enum_libusb_hotplug_flag.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> LibUSB Documentation
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="group_libusb_asyncio.html">Asynchronous device I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_libusb_dev.html">Device handling and enumeration</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_libusb_hotplug.html">Device hotplug event notification</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Library initialization/deinitialization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="enum_libusb_log_level.html">enum libusb_log_level</a></li>
<li class="toctree-l2"><a class="reference internal" href="struct_libusb_version.html">struct libusb_version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#typedefs">Typedefs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#global-functions">Global Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="group_libusb_misc.html">Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_libusb_poll.html">Polling and timing</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_libusb_syncio.html">Synchronous device I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_libusb_desc.html">USB descriptors</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="page_libusb_api.html">Application Programming Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_libusb_caveats.html">Caveats</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_libusb_contexts.html">Contexts</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_libusb_hotplug.html">Device hotplug event notification</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_libusb_mtasync.html">Multi-threaded applications and asynchronous I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_libusb_packetoverflow.html">Packets and overflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_libusb_io.html">Synchronous and asynchronous device I/O</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global.html">Global Namespace</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LibUSB Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Library initialization/deinitialization</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="library-initialization-deinitialization">
<span id="cid-libusb-lib"></span><span id="doxid-group-libusb-lib"></span><span id="index-0"></span><h1>Library initialization/deinitialization</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p>This page details how to initialize and deinitialize libusb. <a class="reference internal" href="#details-doxid-group-libusb-lib"><span class="std std-ref">More…</span></a></p>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="c1">// typedefs</span>

<span class="k">typedef</span> <span class="k">struct</span> <a class="reference internal" href="#doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"><span class="std std-ref">libusb_context</span></a><span></span> <a class="reference internal" href="#doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"><span class="std std-ref">libusb_context</span></a><span></span>

<span class="c1">// enums</span>

<span class="k">enum</span> <a class="reference internal" href="enum_libusb_log_level.html#doxid-group-libusb-lib-1ga2d6144203f0fc6d373677f6e2e89d2d2"><span class="std std-ref">libusb_log_level</span></a><span></span>

<span class="c1">// structs</span>

<span class="k">struct</span> <a class="reference internal" href="struct_libusb_version.html#doxid-structlibusb-version"><span class="std std-ref">libusb_version</span></a><span></span>

<span class="c1">// global functions</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-group-libusb-lib-1ga5f8376b7a863a5a8d5b8824feb8a427a"><span class="std std-ref">libusb_set_debug</span></a><span></span> <span class="p">(</span>
    <a class="reference internal" href="#doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"><span class="std std-ref">libusb_context</span></a><span></span><span class="o">*</span> <span class="n">ctx</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">level</span>
    <span class="p">)</span>

<span class="kt">int</span>
<a class="reference internal" href="#doxid-group-libusb-lib-1ga9517c37281bba0b51cc62eba728be48b"><span class="std std-ref">libusb_init</span></a><span></span> <span class="p">(</span><a class="reference internal" href="#doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"><span class="std std-ref">libusb_context</span></a><span></span><span class="o">**</span> <span class="n">context</span><span class="p">)</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-group-libusb-lib-1ga86532f222d4f1332a5f8f5eef9a92da9"><span class="std std-ref">libusb_exit</span></a><span></span> <span class="p">(</span><span class="k">struct</span> <a class="reference internal" href="#doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"><span class="std std-ref">libusb_context</span></a><span></span><span class="o">*</span> <span class="n">ctx</span><span class="p">)</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-doxid-group-libusb-lib"></span><h2>Detailed Documentation</h2>
<p>This page details how to initialize and deinitialize libusb.</p>
<p>Initialization must be performed before using any libusb functionality, and similarly you must not call any libusb functions after deinitialization.</p>
<div class="section" id="typedefs">
<h3>Typedefs</h3>
<pre class="highlight title-code-block literal-block" id="cid-libusb-context">
<span id="doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"></span><span></span><span class="k">typedef</span> <span class="k">struct</span> <a class="reference internal" href="#doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"><span class="std std-ref">libusb_context</span></a><span></span> <span class="n">libusb_context</span>
</pre>
<p>Structure representing a libusb session.</p>
<p>The concept of individual libusb sessions allows for your program to use two libraries (or dynamically load two modules) which both independently use libusb. This will prevent interference between the individual libusb users - for example <a class="reference internal" href="#doxid-group-libusb-lib-1ga5f8376b7a863a5a8d5b8824feb8a427a"><span class="std std-ref">libusb_set_debug()</span></a> will not affect the other user of the library, and <a class="reference internal" href="#doxid-group-libusb-lib-1ga86532f222d4f1332a5f8f5eef9a92da9"><span class="std std-ref">libusb_exit()</span></a> will not destroy resources that the other user is still using.</p>
<p>Sessions are created by <a class="reference internal" href="#doxid-group-libusb-lib-1ga9517c37281bba0b51cc62eba728be48b"><span class="std std-ref">libusb_init()</span></a> and destroyed through <a class="reference internal" href="#doxid-group-libusb-lib-1ga86532f222d4f1332a5f8f5eef9a92da9"><span class="std std-ref">libusb_exit()</span></a> . If your application is guaranteed to only ever include a single libusb user (i.e. you), you do not have to worry about contexts: pass NULL in every function call where a context is required. The default context will be used.</p>
<p>For more information, see <a class="reference internal" href="page_libusb_contexts.html#doxid-libusb-contexts"><span class="std std-ref">Contexts</span></a> .</p>
</div>
<div class="section" id="global-functions">
<h3>Global Functions</h3>
<pre class="highlight title-code-block literal-block" id="cid-libusb-set-debug">
<span id="doxid-group-libusb-lib-1ga5f8376b7a863a5a8d5b8824feb8a427a"></span><span></span><span class="kt">void</span>
<span class="n">libusb_set_debug</span> <span class="p">(</span>
    <a class="reference internal" href="#doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"><span class="std std-ref">libusb_context</span></a><span></span><span class="o">*</span> <span class="n">ctx</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">level</span>
    <span class="p">)</span>
</pre>
<p>Set log message verbosity.</p>
<p>The default level is LIBUSB_LOG_LEVEL_NONE, which means no messages are ever printed. If you choose to increase the message verbosity level, ensure that your application does not close the stdout/stderr file descriptors.</p>
<p>You are advised to use level LIBUSB_LOG_LEVEL_WARNING. libusb is conservative with its message logging and most of the time, will only log messages that explain error conditions and other oddities. This will help you debug your software.</p>
<p>If the LIBUSB_DEBUG environment variable was set when libusb was initialized, this function does nothing: the message verbosity is fixed to the value in the environment variable.</p>
<p>If libusb was compiled without any message logging, this function does nothing: you’ll never get any messages.</p>
<p>If libusb was compiled with verbose debug message logging, this function does nothing: you’ll always get messages from all levels.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ctx</td>
<td>the context to operate on, or NULL for the default context</td>
</tr>
<tr class="row-even"><td>level</td>
<td>debug level to set</td>
</tr>
</tbody>
</table>
<pre class="highlight title-code-block literal-block" id="cid-libusb-init">
<span id="doxid-group-libusb-lib-1ga9517c37281bba0b51cc62eba728be48b"></span><span></span><span class="kt">int</span>
<span class="n">libusb_init</span> <span class="p">(</span><a class="reference internal" href="#doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"><span class="std std-ref">libusb_context</span></a><span></span><span class="o">**</span> <span class="n">context</span><span class="p">)</span>
</pre>
<p>Initialize libusb.</p>
<p>This function must be called before calling any other libusb function.</p>
<p>If you do not provide an output location for a context pointer, a default context will be created. If there was already a default context, it will be reused (and nothing will be initialized/reinitialized).</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>context</td>
<td>Optional output location for context pointer. Only valid on return code 0.</td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 on success, or a LIBUSB_ERROR code on failure</p>
<p class="rubric">See also:</p>
<p>libusb_contexts</p>
<pre class="highlight title-code-block literal-block" id="cid-libusb-exit">
<span id="doxid-group-libusb-lib-1ga86532f222d4f1332a5f8f5eef9a92da9"></span><span></span><span class="kt">void</span>
<span class="n">libusb_exit</span> <span class="p">(</span><span class="k">struct</span> <a class="reference internal" href="#doxid-group-libusb-lib-1ga4ec088aa7b79c4a9599e39bf36a72833"><span class="std std-ref">libusb_context</span></a><span></span><span class="o">*</span> <span class="n">ctx</span><span class="p">)</span>
</pre>
<p>Deinitialize libusb.</p>
<p>Should be called after closing all open devices and before your application terminates.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ctx</td>
<td>the context to deinitialize, or NULL for the default context</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="enum_libusb_log_level.html" class="btn btn-neutral float-right" title="enum libusb_log_level" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="enum_libusb_hotplug_flag.html" class="btn btn-neutral" title="enum libusb_hotplug_flag" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2007-2017, LibUSB Maintainers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'1.0.21',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>